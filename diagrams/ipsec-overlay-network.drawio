<mxfile host="Electron" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.2.5 Chrome/138.0.7204.251 Electron/37.6.1 Safari/537.36" version="28.2.5">
  <diagram name="IPSec Overlay Network" id="ipsec1">
    <mxGraphModel dx="1200" dy="800" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="BTRC QoS Monitoring Platform" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=24;fontStyle=1;fontColor=#1e3a5f;fontFamily=Inter;" parent="1" vertex="1">
          <mxGeometry x="385" y="10" width="400" height="35" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="IPSec Overlay Network - Secure ISP Connectivity" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=18;fontColor=#2563eb;fontFamily=Inter;" parent="1" vertex="1">
          <mxGeometry x="335" y="45" width="500" height="25" as="geometry" />
        </mxCell>

        <!-- BTRC Data Center Group -->
        <mxCell id="btrc_dc" value="BTRC Data Center (Dhaka)" style="swimlane;fontStyle=1;startSize=30;fillColor=#dbeafe;strokeColor=#2563eb;fontColor=#2563eb;fontSize=16;fontFamily=Inter;rounded=1;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="285" y="85" width="600" height="200" as="geometry" />
        </mxCell>

        <!-- IPSec VPN Concentrator -->
        <mxCell id="vpn" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ea580c;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.client_vpn;" parent="btrc_dc" vertex="1">
          <mxGeometry x="40" y="60" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vpnt" value="IPSec VPN&#xa;Concentrator" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=12;fontStyle=1;fontColor=#1f2937;fontFamily=Inter;" parent="btrc_dc" vertex="1">
          <mxGeometry x="20" y="125" width="100" height="35" as="geometry" />
        </mxCell>

        <!-- Firewall -->
        <mxCell id="fw" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#dc2626;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.network_firewall;" parent="btrc_dc" vertex="1">
          <mxGeometry x="170" y="60" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fwt" value="Firewall&#xa;+ IDS/IPS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=12;fontStyle=1;fontColor=#1f2937;fontFamily=Inter;" parent="btrc_dc" vertex="1">
          <mxGeometry x="150" y="125" width="100" height="35" as="geometry" />
        </mxCell>

        <!-- Load Balancer -->
        <mxCell id="lb" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#f97316;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_load_balancing;" parent="btrc_dc" vertex="1">
          <mxGeometry x="300" y="60" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lbt" value="Load&#xa;Balancer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=12;fontStyle=1;fontColor=#1f2937;fontFamily=Inter;" parent="btrc_dc" vertex="1">
          <mxGeometry x="280" y="125" width="100" height="35" as="geometry" />
        </mxCell>

        <!-- QoS Platform -->
        <mxCell id="qos" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#0d9488;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch;" parent="btrc_dc" vertex="1">
          <mxGeometry x="440" y="60" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="qost" value="QoS Monitoring&#xa;Platform (HCI)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=12;fontStyle=1;fontColor=#1f2937;fontFamily=Inter;" parent="btrc_dc" vertex="1">
          <mxGeometry x="410" y="125" width="120" height="35" as="geometry" />
        </mxCell>

        <!-- Edges inside BTRC -->
        <mxCell id="e_vpn_fw" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2563eb;strokeWidth=3;endArrow=blockThin;endFill=1;" parent="btrc_dc" source="vpn" target="fw" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_fw_lb" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2563eb;strokeWidth=3;endArrow=blockThin;endFill=1;" parent="btrc_dc" source="fw" target="lb" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_lb_qos" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2563eb;strokeWidth=3;endArrow=blockThin;endFill=1;" parent="btrc_dc" source="lb" target="qos" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Internet Cloud -->
        <mxCell id="internet" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#64748b;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloud_map;" parent="1" vertex="1">
          <mxGeometry x="550" y="320" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="internett" value="Public Internet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=14;fontStyle=1;fontColor=#64748b;fontFamily=Inter;" parent="1" vertex="1">
          <mxGeometry x="525" y="390" width="120" height="25" as="geometry" />
        </mxCell>

        <!-- ISP Region Labels -->
        <mxCell id="region_label" value="ISPs Across Bangladesh (1500+)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=16;fontStyle=1;fontColor=#059669;fontFamily=Inter;" parent="1" vertex="1">
          <mxGeometry x="435" y="430" width="300" height="25" as="geometry" />
        </mxCell>

        <!-- Dhaka ISPs -->
        <mxCell id="isp_dhaka" value="Dhaka Division" style="swimlane;fontStyle=1;startSize=25;fillColor=#ffedd5;strokeColor=#ea580c;fontColor=#ea580c;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="470" width="180" height="140" as="geometry" />
        </mxCell>
        <mxCell id="isp1" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="isp_dhaka" vertex="1">
          <mxGeometry x="20" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="isp1t" value="ISP Agent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_dhaka" vertex="1">
          <mxGeometry x="10" y="85" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="rtr1" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#f97316;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.transit_gateway;" parent="isp_dhaka" vertex="1">
          <mxGeometry x="110" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rtr1t" value="Edge Router" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_dhaka" vertex="1">
          <mxGeometry x="95" y="85" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="isp1_count" value="~600 ISPs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontStyle=2;fontColor=#ea580c;fontFamily=Inter;" parent="isp_dhaka" vertex="1">
          <mxGeometry x="50" y="110" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- Chittagong ISPs -->
        <mxCell id="isp_ctg" value="Chattogram Division" style="swimlane;fontStyle=1;startSize=25;fillColor=#d1fae5;strokeColor=#059669;fontColor=#059669;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="470" width="180" height="140" as="geometry" />
        </mxCell>
        <mxCell id="isp2" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="isp_ctg" vertex="1">
          <mxGeometry x="20" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="isp2t" value="ISP Agent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_ctg" vertex="1">
          <mxGeometry x="10" y="85" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="rtr2" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#f97316;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.transit_gateway;" parent="isp_ctg" vertex="1">
          <mxGeometry x="110" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rtr2t" value="Edge Router" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_ctg" vertex="1">
          <mxGeometry x="95" y="85" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="isp2_count" value="~300 ISPs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontStyle=2;fontColor=#059669;fontFamily=Inter;" parent="isp_ctg" vertex="1">
          <mxGeometry x="50" y="110" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- Rajshahi ISPs -->
        <mxCell id="isp_raj" value="Rajshahi Division" style="swimlane;fontStyle=1;startSize=25;fillColor=#cffafe;strokeColor=#0891b2;fontColor=#0891b2;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="470" width="180" height="140" as="geometry" />
        </mxCell>
        <mxCell id="isp3" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="isp_raj" vertex="1">
          <mxGeometry x="20" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="isp3t" value="ISP Agent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_raj" vertex="1">
          <mxGeometry x="10" y="85" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="rtr3" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#f97316;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.transit_gateway;" parent="isp_raj" vertex="1">
          <mxGeometry x="110" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rtr3t" value="Edge Router" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_raj" vertex="1">
          <mxGeometry x="95" y="85" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="isp3_count" value="~200 ISPs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontStyle=2;fontColor=#0891b2;fontFamily=Inter;" parent="isp_raj" vertex="1">
          <mxGeometry x="50" y="110" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- Khulna ISPs -->
        <mxCell id="isp_khu" value="Khulna Division" style="swimlane;fontStyle=1;startSize=25;fillColor=#fef3c7;strokeColor=#d97706;fontColor=#d97706;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="470" width="180" height="140" as="geometry" />
        </mxCell>
        <mxCell id="isp4" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="isp_khu" vertex="1">
          <mxGeometry x="20" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="isp4t" value="ISP Agent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_khu" vertex="1">
          <mxGeometry x="10" y="85" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="rtr4" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#f97316;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.transit_gateway;" parent="isp_khu" vertex="1">
          <mxGeometry x="110" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rtr4t" value="Edge Router" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_khu" vertex="1">
          <mxGeometry x="95" y="85" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="isp4_count" value="~150 ISPs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontStyle=2;fontColor=#d97706;fontFamily=Inter;" parent="isp_khu" vertex="1">
          <mxGeometry x="50" y="110" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- Other Divisions -->
        <mxCell id="isp_other" value="Sylhet, Rangpur, Barisal, Mymensingh" style="swimlane;fontStyle=1;startSize=25;fillColor=#f1f5f9;strokeColor=#64748b;fontColor=#64748b;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="470" width="180" height="140" as="geometry" />
        </mxCell>
        <mxCell id="isp5" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="isp_other" vertex="1">
          <mxGeometry x="20" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="isp5t" value="ISP Agent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_other" vertex="1">
          <mxGeometry x="10" y="85" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="rtr5" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#f97316;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.transit_gateway;" parent="isp_other" vertex="1">
          <mxGeometry x="110" y="45" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rtr5t" value="Edge Router" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#1f2937;fontFamily=Inter;" parent="isp_other" vertex="1">
          <mxGeometry x="95" y="85" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="isp5_count" value="~250 ISPs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontStyle=2;fontColor=#64748b;fontFamily=Inter;" parent="isp_other" vertex="1">
          <mxGeometry x="50" y="110" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- IPSec Tunnel Edges -->
        <mxCell id="tunnel1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ea580c;strokeWidth=3;dashed=1;dashPattern=8 4;endArrow=none;startArrow=none;" parent="1" source="rtr1" target="internet" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="200" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tunnel2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#059669;strokeWidth=3;dashed=1;dashPattern=8 4;endArrow=none;startArrow=none;" parent="1" source="rtr2" target="internet" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tunnel3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0891b2;strokeWidth=3;dashed=1;dashPattern=8 4;endArrow=none;startArrow=none;" parent="1" source="rtr3" target="internet" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tunnel4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#d97706;strokeWidth=3;dashed=1;dashPattern=8 4;endArrow=none;startArrow=none;" parent="1" source="rtr4" target="internet" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="800" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tunnel5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#64748b;strokeWidth=3;dashed=1;dashPattern=8 4;endArrow=none;startArrow=none;" parent="1" source="rtr5" target="internet" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1020" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- BTRC to Internet -->
        <mxCell id="btrc_tunnel" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#2563eb;strokeWidth=4;endArrow=none;startArrow=none;" parent="1" source="vpn" target="internet" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend" value="Legend" style="swimlane;fontStyle=1;startSize=22;fillColor=#f8fafc;strokeColor=#94a3b8;fontColor=#475569;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="640" width="300" height="140" as="geometry" />
        </mxCell>
        <mxCell id="leg1" value="" style="endArrow=none;html=1;strokeColor=#2563eb;strokeWidth=4;rounded=0;" parent="legend" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="20" y="45" as="sourcePoint" />
            <mxPoint x="70" y="45" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg1t" value="BTRC Secure Gateway" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="legend" vertex="1">
          <mxGeometry x="80" y="35" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="leg2" value="" style="endArrow=none;html=1;strokeColor=#ea580c;strokeWidth=3;dashed=1;dashPattern=8 4;rounded=0;" parent="legend" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="20" y="75" as="sourcePoint" />
            <mxPoint x="70" y="75" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="leg2t" value="IPSec Tunnel (AES-256, IKEv2)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="legend" vertex="1">
          <mxGeometry x="80" y="65" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="leg3" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[1,1,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="legend" vertex="1">
          <mxGeometry x="30" y="95" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="leg3t" value="SNMP Collection Agent (Docker)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="legend" vertex="1">
          <mxGeometry x="80" y="100" width="200" height="20" as="geometry" />
        </mxCell>

        <!-- Security Info Box -->
        <mxCell id="security_box" value="IPSec Security Parameters" style="swimlane;fontStyle=1;startSize=22;fillColor=#fef2f2;strokeColor=#dc2626;fontColor=#dc2626;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="640" width="250" height="140" as="geometry" />
        </mxCell>
        <mxCell id="sec1" value="• Encryption: AES-256-GCM" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="security_box" vertex="1">
          <mxGeometry x="10" y="30" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sec2" value="• Key Exchange: IKEv2" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="security_box" vertex="1">
          <mxGeometry x="10" y="50" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sec3" value="• Authentication: Certificate (PKI)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="security_box" vertex="1">
          <mxGeometry x="10" y="70" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sec4" value="• Mode: Site-to-Site Tunnel" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="security_box" vertex="1">
          <mxGeometry x="10" y="90" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sec5" value="• Protection: IDS/IPS at gateway" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="security_box" vertex="1">
          <mxGeometry x="10" y="110" width="230" height="20" as="geometry" />
        </mxCell>

        <!-- Data Flow Box -->
        <mxCell id="flow_box" value="Secure Data Flow" style="swimlane;fontStyle=1;startSize=22;fillColor=#ecfdf5;strokeColor=#059669;fontColor=#059669;fontSize=12;fontFamily=Inter;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="690" y="640" width="250" height="140" as="geometry" />
        </mxCell>
        <mxCell id="flow1" value="1. ISP Agent collects SNMP data" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="flow_box" vertex="1">
          <mxGeometry x="10" y="30" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow2" value="2. Data encrypted via IPSec tunnel" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="flow_box" vertex="1">
          <mxGeometry x="10" y="50" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow3" value="3. VPN Concentrator terminates" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="flow_box" vertex="1">
          <mxGeometry x="10" y="70" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow4" value="4. Firewall + IDS/IPS inspection" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="flow_box" vertex="1">
          <mxGeometry x="10" y="90" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow5" value="5. Load balanced to QoS Platform" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#1f2937;fontFamily=Inter;" parent="flow_box" vertex="1">
          <mxGeometry x="10" y="110" width="230" height="20" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="Source: BTRC ToR (EOI: 14.32.0000.000.400.07.0021.25.1685) | IPSec Overlay Network Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontStyle=2;fontColor=#6b7280;fontFamily=Inter;" parent="1" vertex="1">
          <mxGeometry x="335" y="795" width="500" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
